\ProvidesPackage{my-preamble}[2023/10/01 v1.0 My Preamble Package]

\RequirePackage[utf8]{vntex,inputenc}

\RequirePackage{geometry,graphicx,indentfirst,setspace}
\RequirePackage{anyfontsize,mathptmx}
\RequirePackage{tikz}

\RequirePackage{fancyhdr,hyperref}

% Change to [english,vietnamese] to use Vietnamese labels
\RequirePackage[english]{babel}

\usetikzlibrary{calc}

% Draft watermark
% https://github.com/callegar/LaTeX-draftwatermark

% \graphicspath{{subdir1/}{subdir2/}{subdir3/}...{subdirn/}}

\RequirePackage{listings}             % Code blocks
\RequirePackage{courier}              % Courier font for code
\RequirePackage{xcolor}               % Color support for listings
\lstset{
  basicstyle=\ttfamily\small,
  breaklines=true,
  frame=single,
  numbers=left,
  numberstyle=\tiny,
  keywordstyle=\color{blue},
  commentstyle=\color{green!50!black},
  stringstyle=\color{red!50!brown}
}

\newcommand{\Month}{
  \ifcase \the\month
  \or January
  \or February
  \or March
  \or April
  \or May
  \or June
  \or July
  \or August
  \or September
  \or October
  \or November
  \or December
  \fi
}

\newcommand{\@deptname}{ FACULTY OF ELECTRICAL AND ELECTRONICS ENGINEERING DEPARTMENT OF ELECTRONICS}
\newcommand{\odeptname}[1]{\renewcommand{\@deptname}{#1}}

\newcommand{\@reporttype}{Final Internship Report}
\newcommand{\oreporttype}[1]{\renewcommand{\@reporttype}{#1}}

\newcommand{\@stumajor}{RTL design and verification}
\newcommand{\ostumajor}[1]{\renewcommand{\@stumajor}{#1}}

\renewcommand{\@title}{A General Framework for Sorting Large Data Sets Using Independent Subarrays of Approximately Equal Length}
\newcommand{\otitle}[1]{\renewcommand{\@title}{#1}}

\newcommand{\@defcouncil}{Council}
\newcommand{\odefcouncil}[1]{\renewcommand{\@defcouncil}{#1}}

\newcommand{\@supervisor}{Nguyen Trung Hieu}
\newcommand{\osupervisor}[1]{\renewcommand{\@supervisor}{#1}}

\newcommand{\@reviewer}{Nguyen Trung Hieu}
\newcommand{\oreviewer}[1]{\renewcommand{\@reviewer}{#1}}

\newcommand{\@stuname}{STUDENT 1: Nguyen Dai Dong (2210780)}
\newcommand{\ostuname}[1]{\renewcommand{\@stuname}{#1}}

\newcommand{\@reportplace}{Ho Chi Minh City}
\newcommand{\oreportplace}[1]{\renewcommand{\@reportplace}{#1}}

\newcommand{\@reporttime}{\Month \the\year}
\newcommand{\oreporttime}[1]{\renewcommand{\@reporttime}{#1}}

\def\thesislayout{
  \geometry{
    paper=a4paper,
    left=3cm,
    right=2cm,
    vmargin=2cm,
    includeheadfoot=true,
    headheight=30pt
  }

  \renewcommand{\large}{\fontsize{15}{15}\selectfont}
  \renewcommand{\Large}{\fontsize{20}{20}\selectfont}

  \onehalfspacing%

  % Allow page breaks inside align* environment
  % \allowdisplaybreaks{}

  % Makes a lot of things blue, avoid at all costs
  % \everymath{\color{blue}}

  \hypersetup{
    colorlinks=true,
    urlcolor=blue,
    linkcolor=black,
    citecolor=red
  }

  \pagestyle{fancy}
  \renewcommand{\headrulewidth}{0.3pt}
  \renewcommand{\footrulewidth}{0.3pt}

  \fancyhead{}
  \fancyhead[L]{\bfseries \nouppercase{\rightmark}}
  \fancyhead[R]{\thepage}

  \fancyfoot{}
}

\def\coverpage{
  \thispagestyle{empty}
  % \setlength{\oddsidemargin}{0cm}
  % \addtolength{\voffset}{-2.5cm}
  % \addtolength{\textwidth}{-2cm}

  % \begin{tikzpicture}[remember picture,overlay]
  %   \draw[line width=3pt](
  %     $(current page.north west) + (3.0cm,-2.0cm)$
  %   ) rectangle (
  %     $(current page.south east) + (-2.0cm,2.0cm)$
  %   );
  %   \draw[line width=1pt](
  %     $(current page.north west) + (2.9cm,-1.9cm)$
  %   ) rectangle (
  %     $(current page.south east) + (-1.9cm,1.9cm)$
  %   );
  % \end{tikzpicture}

  \vspace*{-3\baselineskip}
  \begin{center}
    \large \bfseries
    VIET NAM NATIONAL UNIVERSITY HO CHI MINH CITY

    HO CHI MINH CITY UNIVERSITY OF TECHNOLOGY

    \MakeUppercase{\@deptname}
    \\[2\baselineskip]
    \includegraphics[width=0.4\textwidth]{./my-chapters/my-images/01_logobachkhoasang.png}
    \\[2\baselineskip]
    \MakeUppercase{\@reporttype}
    \\[3\baselineskip]
    {\Large \MakeUppercase{\parbox[c]{14cm}{\centering \@title}}}
    \\[1\baselineskip]
    {\mdseries Major: \@stumajor}
  \end{center}

  \vfill%
  {
    \large \bfseries
    \hfill \parbox[t]{12cm}{
      THESIS COMMITTEE: \@defcouncil

      SUPERVISOR(s): \parbox[t]{7cm}{\@supervisor}

      REVIEWER: \@reviewer

      \hspace*{3cm} ---o0o---

      \@stuname
    }
  }

  \vspace{2\baselineskip}
  \begin{center}
    \large
    \MakeUppercase{\@reportplace, \@reporttime}
  \end{center}

  \clearpage
}

\providecommand{\phantomsection}{}
\newenvironment{preface}[1]{
  \vspace*{\stretch{2}}
  {\noindent \bfseries \Huge #1}
  \begin{center}
    \thispagestyle{plain}
    \phantomsection\addcontentsline{toc}{chapter}{#1}
  \end{center}
}{
  \vspace*{\stretch{5}}
}
